{% extends 'base.html' %}

{% block breadcrumb_items %}
<li class="breadcrumb-item active">Listado de Equipos</li>
{% endblock %}

{% block page_title_text %}Listado de Equipos Recibidos{% endblock %}

{% block page_actions %}
<a href="{% url 'registrar_equipo' %}" class="btn btn-primary">
  <i class="bi bi-plus-circle me-1"></i>Nuevo Equipo
</a>
{% endblock %}

{% block content %}
<div class="card shadow">
  <div class="card-body">
    {% if equipos %}
    <div class="table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Cliente</th>
            <th>Tipo de Equipo</th>
            <th>Problema</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for equipo in equipos %}
          <tr>
            <td>{{ equipo.id }}</td>
            <td>{{ equipo.nombre_cliente }}</td>
            <td>{{ equipo.tipo_equipo }}</td>
            <td>{{ equipo.problema|truncatewords:10 }}</td>
            <td>
              <a href="{% url 'detalle_equipo' equipo.nombre_cliente %}" class="btn btn-sm btn-outline-primary">
                <i class="bi bi-eye me-1"></i>Ver Detalle
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="text-center py-5">
      <i class="bi bi-inbox display-1 text-muted"></i>
      <h4 class="mt-3">No hay equipos registrados</h4>
      <p class="text-muted">Comienza registrando el primer equipo en el sistema</p>
      <a href="{% url 'registrar_equipo' %}" class="btn btn-primary mt-2">
        <i class="bi bi-plus-circle me-1"></i>Registrar Equipo
      </a>
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}